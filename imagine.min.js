/*! imagine 0.3.0 (https://github.com/pyrsmk/imagine) */
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd?define(c):a[b]=c}(this,"imagine",function(a){("string"==typeof a||"undefined"==typeof a.length)&&(a=[a]);var b,c,d,e=a.length,f=[],g=[],h=[],i=function(a){return function(){if(h.push(a),!--e)for(b=0,c=f.length;c>b;++b)f[b].call(h)}},j=function(a){return function(){if(g.length)for(b=0,c=g.length;c>b;++b)g[b].call(a);if(!--e)for(b=0,c=f.length;c>b;++b)f[b].call(h)}};for(b=0,c=a.length;c>b;++b)d=new Image,d.src="string"==typeof a[b]?a[b]:a[b].src,d.complete===!0?i(a[b])():(d.onload=i(a[b]),d.onerror=j(a[b]));var k={then:function(b){return e?f.push(b):b.call(a),k},"catch":function(a){return g.push(a),k}};return k});