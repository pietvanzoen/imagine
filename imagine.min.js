/*! imagine 0.4.0 (https://github.com/pyrsmk/imagine) */
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd?define(c):a[b]=c}(this,"imagine",function(a){("string"==typeof a||"undefined"==typeof a.length)&&(a=[a]);for(var b,c=a.length,d=[],e=[],f=[],g=function(a){return function(){if(f.push(a),!--c)for(var b=0,e=d.length;e>b;++b)d[b].call(f)}},h=function(a){return function(){var b,g;if(e.length)for(b=0,g=e.length;g>b;++b)e[b].call(a);if(!--c)for(b=0,g=d.length;g>b;++b)d[b].call(f)}},i=function(a,b){var c=setInterval(function(){a.complete===!0&&(clearInterval(c),g(b)())},100)},j=0,k=a.length;k>j;++j)b=new Image,b.onerror=h(a[j]),b.src="string"==typeof a[j]?a[j]:a[j].src,i(b,a[j]);var l={then:function(b){return c?d.push(b):b.call(a),l},"catch":function(a){return e.push(a),l}};return l});
